{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{useAuth}from'../contexts/AuthContext.jsx';import{apiService}from'../services/apiService.js';import LoadingSpinner from'../components/LoadingSpinner.jsx';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Dashboard(){const{user}=useAuth();const[stats,setStats]=useState({documents:0,conversations:0,processed_documents:0,total_chunks:0});const[loading,setLoading]=useState(true);useEffect(()=>{loadDashboardData();},[]);const loadDashboardData=async()=>{try{var _documentStats$vector;setLoading(true);const[documentStats,chatStats]=await Promise.all([apiService.getDocumentStats().catch(()=>({total_documents:0,processed_documents:0,vector_stats:{total_chunks:0}})),apiService.getChatStats().catch(()=>({total_conversations:0}))]);setStats({documents:documentStats.total_documents||0,processed_documents:documentStats.processed_documents||0,total_chunks:((_documentStats$vector=documentStats.vector_stats)===null||_documentStats$vector===void 0?void 0:_documentStats$vector.total_chunks)||0,conversations:chatStats.total_conversations||0});}catch(err){console.error('Failed to load dashboard data:',err);}finally{setLoading(false);}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-64\",children:/*#__PURE__*/_jsx(LoadingSpinner,{size:\"large\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-xl shadow-sm border border-gray-200 p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-3xl font-bold text-gray-900 flex items-center\",children:[\"Welcome back, \",user===null||user===void 0?void 0:user.username,\"!\",/*#__PURE__*/_jsx(\"span\",{className:\"ml-3 text-2xl\",children:\"\\u2728\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-2\",children:\"Your AI-powered knowledge base is ready to help you find answers from your documents.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"hidden sm:flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(Link,{to:\"/knowledge-base\",className:\"btn-secondary flex items-center\",children:\"\\uD83D\\uDCE4 Upload Files\"}),/*#__PURE__*/_jsx(Link,{to:\"/chat\",className:\"btn-primary flex items-center\",children:\"\\u2795 New Chat\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsx(Link,{to:\"/knowledge-base\",className:\"card-hover group\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-xl bg-primary-50 group-hover:scale-110 transition-transform duration-200\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl\",children:\"\\uD83D\\uDCDA\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4 flex-1\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Knowledge Base\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:stats.documents}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500\",children:[stats.processed_documents,\" processed\"]})]})]})}),/*#__PURE__*/_jsx(Link,{to:\"/knowledge-base\",className:\"card-hover group\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-xl bg-purple-50 group-hover:scale-110 transition-transform duration-200\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl\",children:\"\\uD83E\\uDDE9\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4 flex-1\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Text Chunks\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:stats.total_chunks}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"Ready for search\"})]})]})}),/*#__PURE__*/_jsx(Link,{to:\"/chat\",className:\"card-hover group\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-xl bg-green-50 group-hover:scale-110 transition-transform duration-200\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl\",children:\"\\uD83D\\uDCAC\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4 flex-1\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Conversations\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:stats.conversations}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"Chat history\"})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-sm border border-gray-200 p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Quick Actions\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/knowledge-base\",className:\"flex items-center p-4 bg-primary-50 rounded-lg hover:bg-primary-100 transition-colors duration-200 group\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-3xl mr-4 group-hover:scale-110 transition-transform duration-200\",children:\"\\uD83D\\uDCDA\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-primary-700 font-medium block\",children:\"Manage Knowledge Base\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-primary-600 text-sm\",children:\"Upload, view, and organize your documents\"})]})]}),/*#__PURE__*/_jsxs(Link,{to:\"/chat\",className:\"flex items-center p-4 bg-green-50 rounded-lg hover:bg-green-100 transition-colors duration-200 group\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-3xl mr-4 group-hover:scale-110 transition-transform duration-200\",children:\"\\uD83D\\uDCAC\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-green-700 font-medium block\",children:\"Start RAG Chat\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-green-600 text-sm\",children:\"Ask questions about your documents\"})]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-primary-50 to-blue-50 border border-primary-200 rounded-xl p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl mr-3 mt-1\",children:\"\\u2728\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-primary-900\",children:\"How to get started\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 space-y-2 text-sm text-primary-800\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"bg-primary-200 text-primary-800 w-6 h-6 rounded-full flex items-center justify-center text-xs font-medium mr-3\",children:\"1\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Upload documents (PDF, DOCX, TXT, or images) to your Knowledge Base\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"bg-primary-200 text-primary-800 w-6 h-6 rounded-full flex items-center justify-center text-xs font-medium mr-3\",children:\"2\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Wait for documents to be processed and indexed\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"bg-primary-200 text-primary-800 w-6 h-6 rounded-full flex items-center justify-center text-xs font-medium mr-3\",children:\"3\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Start a chat and ask questions about your documents\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"bg-primary-200 text-primary-800 w-6 h-6 rounded-full flex items-center justify-center text-xs font-medium mr-3\",children:\"4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Get AI-powered answers with source references\"})]})]})]})]})})]});}export default Dashboard;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}