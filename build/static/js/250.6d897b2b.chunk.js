"use strict";(self.webpackChunkoptimized_chatbot_frontend=self.webpackChunkoptimized_chatbot_frontend||[]).push([[250,320],{250:(e,s,t)=>{t.r(s),t.d(s,{default:()=>d});var a=t(43),l=t(838),r=t(320),c=t(339),n=t(579);const d=function(){const[e,s]=(0,a.useState)([]),[t,d]=(0,a.useState)(null),[o,i]=(0,a.useState)(!0),[m,u]=(0,a.useState)(!1);(0,a.useEffect)(()=>{x()},[]);const x=async()=>{try{i(!0);const[e,t]=await Promise.all([l.K.getDocuments(),l.K.getDocumentStats()]);s(e),d(t)}catch(e){console.error("Failed to load knowledge base:",e),c.Ay.error("Failed to load knowledge base")}finally{i(!1)}},h=e=>{switch(e){case"completed":return"\u2705";case"processing":return"\u23f3";case"failed":return"\u274c";default:return"\u23f8\ufe0f"}},g=e=>{const s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(2))+" "+["Bytes","KB","MB","GB"][s]};return o?(0,n.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,n.jsx)(r.default,{size:"large"})}):(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,n.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:["\ud83d\udcda Knowledge Base (",e.length," documents)"]}),(0,n.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage your AI knowledge base files - upload, view, and delete documents"})]}),(0,n.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("span",{className:"text-6xl mb-4 block",children:"\ud83d\udce4"}),(0,n.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Upload documents to knowledge base"}),(0,n.jsx)("p",{className:"text-gray-500 mb-4",children:"Supports PDF, DOCX, TXT, and image files (PNG, JPG)"}),(0,n.jsxs)("label",{className:"btn-primary cursor-pointer inline-flex items-center",children:[(0,n.jsx)("input",{type:"file",multiple:!0,accept:".pdf,.txt,.docx,.png,.jpg,.jpeg",onChange:async e=>{const t=Array.from(e.target.files);if(0!==t.length){for(const e of t){u(!0);try{const t=await l.K.uploadDocument(e);s(e=>[t.document,...e]),c.Ay.success("".concat(e.name," uploaded successfully!"));const a=await l.K.getDocumentStats();d(a)}catch(a){console.error("Upload failed:",a),c.Ay.error("Failed to upload ".concat(e.name))}finally{u(!1)}}e.target.value=""}},disabled:m,className:"hidden"}),m?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.default,{size:"small",color:"white",className:"mr-2"}),"Uploading..."]}):"\ud83d\udcc1 Choose Files"]}),(0,n.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Maximum file size: 25MB"})]})}),e.length>0?(0,n.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[(0,n.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Your Documents"})}),(0,n.jsx)("div",{className:"overflow-x-auto",children:(0,n.jsx)("div",{className:"space-y-3 p-6",children:e.map(e=>(0,n.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("span",{className:"text-2xl mr-3",children:"image"===e.document_type?"\ud83d\uddbc\ufe0f":"\ud83d\udcc4"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"font-medium text-gray-900 truncate max-w-md",children:e.original_filename}),(0,n.jsxs)("div",{className:"text-sm text-gray-500",children:[e.file_type.toUpperCase()," \u2022 ",g(e.file_size)," \u2022 ",h(e.processing_status)," ",e.processing_status]})]})]}),(0,n.jsx)("button",{onClick:()=>(async(e,t)=>{if(window.confirm('Delete "'.concat(t,'"?')))try{await l.K.deleteDocument(e),s(s=>s.filter(s=>s.id!==e)),c.Ay.success("Document deleted successfully");const t=await l.K.getDocumentStats();d(t)}catch(a){c.Ay.error("Failed to delete document")}})(e.id,e.original_filename),className:"text-red-600 hover:text-red-800 p-2",title:"Delete document",children:"\ud83d\uddd1\ufe0f"})]},e.id))})})]}):(0,n.jsxs)("div",{className:"text-center py-12",children:[(0,n.jsx)("span",{className:"text-6xl mb-4 block",children:"\ud83d\udcda"}),(0,n.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No documents in your knowledge base"}),(0,n.jsx)("p",{className:"text-gray-500 mb-6",children:"Upload your first document to start building your AI-powered knowledge base."})]})]})}},320:(e,s,t)=>{t.r(s),t.d(s,{default:()=>l});t(43);var a=t(579);const l=e=>{let{size:s="medium",color:t="primary",className:l=""}=e;return(0,a.jsx)("div",{className:"flex items-center justify-center ".concat(l),children:(0,a.jsx)("div",{className:"loading-spinner ".concat({small:"h-4 w-4",medium:"h-8 w-8",large:"h-12 w-12",xlarge:"h-16 w-16"}[s]," ").concat({primary:"border-primary-600",gray:"border-gray-600",white:"border-white"}[t]),role:"status",children:(0,a.jsx)("span",{className:"sr-only",children:"Loading..."})})})}}}]);
//# sourceMappingURL=250.6d897b2b.chunk.js.map